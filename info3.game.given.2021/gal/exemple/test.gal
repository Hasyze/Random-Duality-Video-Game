Joueur1(Init){
  * (Init)
  | Key(z) & Key(q) & !(Cell(NW,O) / Cell(NW,J)) ? Move(NW) :(Action)
  | Key(z) & Key(d) & !(Cell(NE,O) / Cell(NE,J)) ? Move(NE) :(Action)
  | Key(s) & Key(q) & !(Cell(SW,O) / Cell(SW,J)) ? Move(SW) :(Action)
  | Key(s) & Key(d) & !(Cell(SE,O) / Cell(SE,J)) ? Move(SE) :(Action)
  | Key(z) & !(Cell(N,O) / Cell(N,J)) ? Move(N) :(Action)
  | Key(q) & !(Cell(W,O) / Cell(W,J)) ? Move(W) :(Action)
  | Key(s) & !(Cell(S,O) / Cell(S,J)) ? Move(S) :(Action)
  | Key(d) & !(Cell(E,O) / Cell(E,J)) ? Move(E) :(Action)
  | Key(SPACE) ? Hit() :(Init)
  
  * (Action)
  | Key(SPACE) ? Hit() :(Init)
  | True ?  :(Init)
}

Joueur2(Init){
  * (Init)
  | Key(FU) & Key(FR) & !(Cell(NW,O) / Cell(NW,J)) ? Move(NE) :(Action)
  | Key(FU) & Key(FL) & !(Cell(NE,O) / Cell(NE,J)) ? Move(NW) :(Action)
  | Key(FD) & Key(FR) & !(Cell(SW,O) / Cell(SW,J)) ? Move(SE) :(Action)
  | Key(FD) & Key(FL) & !(Cell(SE,O) / Cell(SE,J)) ? Move(SW) :(Action)
  | Key(FU) & !(Cell(N,J) / Cell(N,O)) ? Move(N) :(Action)
  | Key(FL) & !(Cell(W,J) / Cell(W,O)) ? Move(W) :(Action)
  | Key(FD) & !(Cell(S,J) / Cell(S,O)) ? Move(S) :(Action)
  | Key(FR) & !(Cell(E,J) / Cell(E,O)) ? Move(E) :(Action)
  | Key(ENTER) ? Hit() :(Init)
  
  * (Action)
  | Key(ENTER) ? Hit() :(Init)
  | True ?  :(Init)
}

Ennemis(Init){
  * (Init)
  | True ? Wait :(Init)
}

EnnemisP(Init){
  * (Init)
  | !(Cell(NW,O) / Cell(NW,J)) ? 96 % Move(F) / 1 % Move(L) / 1 % Move(R) / 1 % Move(B) / 1 % Hit(F) :(Init)
  | True ? Move(B) :(Init)
}

Boss(Init){
  * (Init)
  | True ? 70%Wait() / 30%Egg() :(Init)
}

Fantome1(Init){
  * (Init)
  | Key(z) & Key(q) & !Cell(NW,O) ? Move(NW) :(Init)
  | Key(z) & Key(d) & !Cell(NE,O) ? Move(NE) :(Init)
  | Key(s) & Key(q) & !Cell(SW,O) ? Move(SW) :(Init)
  | Key(s) & Key(d) & !Cell(SE,O) ? Move(SE) :(Init)
  | Key(z) & !Cell(N,O) ? Move(N) :(Init)
  | Key(q) & !Cell(W,O) ? Move(W) :(Init)
  | Key(s) & !Cell(S,O) ? Move(S) :(Init)
  | Key(d) & !Cell(E,O) ? Move(E) :(Init)
}

Fantome2(Init){
  * (Init)
  | Key(FU) & Key(FR) & !Cell(NW,O) ? Move(NE) :(Init)
  | Key(FU) & Key(FL) & !Cell(NE,O) ? Move(NW) :(Init)
  | Key(FD) & Key(FR) & !Cell(SW,O) ? Move(SE) :(Init)
  | Key(FD) & Key(FL) & !Cell(SE,O) ? Move(SW) :(Init)
  | Key(FU) & !Cell(N,O) ? Move(N) :(Init)
  | Key(FL) & !Cell(W,O) ? Move(W) :(Init)
  | Key(FD) & !Cell(S,O) ? Move(S) :(Init)
  | Key(FR) & !Cell(E,O) ? Move(E) :(Init)
}

Balle(Init){
 * (Init)
  | True ? Move() :(Init)
}

Coup(Init){
 * (Init)
  | !Cell(F,O) ? Move() :(Init)
  | True ? :()
 * ()
}

Porte(Init){
  * (Init)
  | GotStuff ? Pop(N) :(Open)
  | True ? :(Init)

  * (Open)
  | True ? :(Open)
}

Static(Init){
 * (Init)
  | True ? Wait :(Init)
}

Static(Init){
 * (Init)
  | True ? Wait :(Init)
}